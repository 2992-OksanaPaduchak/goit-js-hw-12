import{a as m,S as w,i as u}from"./assets/vendor-BDaiwwc1.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const b="data:image/svg+xml,%3c!--%20Generated%20by%20IcoMoon.io%20--%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%3e%3cpath%20fill='%23fafafb'%20d='M9.080%200.292c0.181-0.18%200.431-0.292%200.706-0.292%200%200%200%200%200%200h12.427c0%200%200%200%200%200%200.276%200%200.525%200.112%200.706%200.292l8.788%208.788c0.18%200.181%200.292%200.431%200.292%200.706%200%200%200%200%200%200v-0%2012.427c0%200%200%200%200%200%200%200.276-0.112%200.525-0.292%200.706l-8.788%208.788c-0.181%200.18-0.43%200.292-0.706%200.292-0%200-0%200-0%200h-12.427c-0%200-0%200-0%200-0.276%200-0.525-0.112-0.706-0.292l-8.788-8.788c-0.18-0.181-0.292-0.43-0.292-0.706%200-0%200-0%200-0v0-12.427c0-0%200-0%200-0%200-0.276%200.112-0.525%200.292-0.706l8.788-8.788zM10.2%202l-8.2%208.2v11.6l8.2%208.2h11.6l8.2-8.2v-11.6l-8.2-8.2h-11.6z'%3e%3c/path%3e%3cpath%20fill='%23fafafb'%20d='M9.292%209.292c0.181-0.181%200.431-0.294%200.708-0.294s0.527%200.112%200.708%200.294l5.292%205.293%205.292-5.293c0.181-0.181%200.431-0.293%200.708-0.293%200.553%200%201.001%200.448%201.001%201.001%200%200.277-0.112%200.527-0.293%200.708l-5.293%205.292%205.293%205.292c0.16%200.177%200.257%200.412%200.257%200.671%200%200.554-0.449%201.003-1.003%201.003-0.258%200-0.494-0.098-0.671-0.258l0.001%200.001-5.292-5.293-5.292%205.293c-0.181%200.18-0.431%200.291-0.707%200.291-0.553%200-1.001-0.447-1.003-0.999v-0c0-0.276%200.112-0.527%200.293-0.708l5.293-5.292-5.292-5.292c-0.181-0.181-0.294-0.431-0.294-0.708s0.112-0.527%200.294-0.708l0-0z'%3e%3c/path%3e%3c/svg%3e",v=m.create({baseURL:"https://pixabay.com",params:{key:"48977888-b03943cb340f5b9503aa6f8a3",image_type:"photo",orientation:"horizontal",safesearch:"true"}});async function L(e){return await v.get("/api",{params:e})}function q(e){return`
        <li class="gallery-item">
            <a class="gallery-link" href="${e.largeImageURL}">
                <img class="gallery-image"
                src="${e.webformatURL}"
                data-source="${e.largeImageURLl}"
                alt="${e.tags}"/>
            </a>
            <div class="photo-info">
                <span>likes: ${e.likes}</span>
                <span>Views: ${e.views}</span>
                <span>Comments: ${e.comments}</span>
                <span>Downloads: ${e.downloads}</span>
            </div>
        </li>
    `}function g(e){const o=e.map(s=>q(s)).join("");document.querySelector("ul.gallery").insertAdjacentHTML("beforeend",o),new w(".gallery a",{captionsData:"alt",captionDelay:250})}const c=document.querySelector("form"),f=document.querySelector(".loader__container"),p=document.querySelector("ul.gallery"),n=document.querySelector(".js-btn-load");let a={query:"",page:1,total:[],per_page:40};c.addEventListener("submit",async e=>{e.preventDefault();const o=e.target.query.value.trim();if(o===""){d("Fill please field");return}if(a={...a,query:o,page:1,total:[]},await y(),!a.total.length){d("Sorry, there are no images matching your search query. Please try again!");return}p.innerHTML="",c.reset(),g(a.total),h()});n.addEventListener("click",async()=>{a={...a,page:a.page+1},await y(),g(a.total),h(),S()});function h(){a.total.length<a.per_page?(n.classList.add("hidden"),u.show({message:"We're sorry, but you've reached the end of search results.",backgroundColor:"#ef4040",messageColor:"#fff",position:"bottomRight"})):n.classList.remove("hidden")}function S(){const e=p.firstElementChild.getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}function y(){return f.style.display="flex",new Promise(async(e,o)=>{try{const s=await L({q:a.query,page:a.page,per_page:a.per_page});a.total=s.data.hits,e(a.total)}catch(s){o(s),showErrorMessage("Failed to load more images. Please try again later.")}finally{f.style.display="none"}})}function d(e){u.show({message:e,iconUrl:b,title:"Error",titleColor:"#fff",titleSize:"16px",titleLineHeight:"24px",messageSize:"16px",messageLineHeight:"24px",messageColor:"#fff",backgroundColor:"#ef4040",position:"topRight"})}
//# sourceMappingURL=index.js.map
