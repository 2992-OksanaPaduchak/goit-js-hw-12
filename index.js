import{a as y,S as m,i as f}from"./assets/vendor-BDaiwwc1.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();const b="data:image/svg+xml,%3c!--%20Generated%20by%20IcoMoon.io%20--%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%3e%3cpath%20fill='%23fafafb'%20d='M9.080%200.292c0.181-0.18%200.431-0.292%200.706-0.292%200%200%200%200%200%200h12.427c0%200%200%200%200%200%200.276%200%200.525%200.112%200.706%200.292l8.788%208.788c0.18%200.181%200.292%200.431%200.292%200.706%200%200%200%200%200%200v-0%2012.427c0%200%200%200%200%200%200%200.276-0.112%200.525-0.292%200.706l-8.788%208.788c-0.181%200.18-0.43%200.292-0.706%200.292-0%200-0%200-0%200h-12.427c-0%200-0%200-0%200-0.276%200-0.525-0.112-0.706-0.292l-8.788-8.788c-0.18-0.181-0.292-0.43-0.292-0.706%200-0%200-0%200-0v0-12.427c0-0%200-0%200-0%200-0.276%200.112-0.525%200.292-0.706l8.788-8.788zM10.2%202l-8.2%208.2v11.6l8.2%208.2h11.6l8.2-8.2v-11.6l-8.2-8.2h-11.6z'%3e%3c/path%3e%3cpath%20fill='%23fafafb'%20d='M9.292%209.292c0.181-0.181%200.431-0.294%200.708-0.294s0.527%200.112%200.708%200.294l5.292%205.293%205.292-5.293c0.181-0.181%200.431-0.293%200.708-0.293%200.553%200%201.001%200.448%201.001%201.001%200%200.277-0.112%200.527-0.293%200.708l-5.293%205.292%205.293%205.292c0.16%200.177%200.257%200.412%200.257%200.671%200%200.554-0.449%201.003-1.003%201.003-0.258%200-0.494-0.098-0.671-0.258l0.001%200.001-5.292-5.293-5.292%205.293c-0.181%200.18-0.431%200.291-0.707%200.291-0.553%200-1.001-0.447-1.003-0.999v-0c0-0.276%200.112-0.527%200.293-0.708l5.293-5.292-5.292-5.292c-0.181-0.181-0.294-0.431-0.294-0.708s0.112-0.527%200.294-0.708l0-0z'%3e%3c/path%3e%3c/svg%3e",w=y.create({baseURL:"https://pixabay.com",params:{key:"48977888-b03943cb340f5b9503aa6f8a3",image_type:"photo",orientation:"horizontal",safesearch:"true"}});async function v(e){return await w.get("/api",{params:e})}function L(e){return`
        <li class="gallery-item">
            <a class="gallery-link" href="${e.largeImageURL}">
                <img class="gallery-image"
                src="${e.webformatURL}"
                data-source="${e.largeImageURLl}"
                alt="${e.tags}"/>
            </a>
            <div class="photo-info">
                <span>likes: ${e.likes}</span>
                <span>Views: ${e.views}</span>
                <span>Comments: ${e.comments}</span>
                <span>Downloads: ${e.downloads}</span>
            </div>
        </li>
    `}function g(e){const r=e.map(s=>L(s)).join("");document.querySelector("ul.gallery").insertAdjacentHTML("beforeend",r),new m(".gallery a",{captionsData:"alt",captionDelay:250})}const d=document.querySelector("form"),n=document.querySelector(".loader__container"),u=document.querySelector("ul.gallery"),i=document.querySelector(".js-btn-load");let a={query:"",page:1,total:[],per_page:20};d.addEventListener("submit",async e=>{console.log(e),e.preventDefault();const r=e.target.query.value.trim();if(r==="")return alert("Fill please field");if(a={...a,query:r,page:1,total:[]},await h(),!a.total.length){f.show({message:"'Sorry, there are no images matching your search query. Please try again!'",iconUrl:b,title:"Erorr",titleColor:"#fff",titleSize:"16px",titleLineHeight:"24px",messageSize:"16px",messageLineHeight:"24px",messageColor:"#fff",backgroundColor:" #ef4040",position:"topRight"});return}u.innerHTML="",d.reset(),g(a.total),p()});i.addEventListener("click",async()=>{a={...a,page:a.page+1},await h(),g(a.total),p(),q()});function p(){a.total.length<a.per_page?(i.classList.add("hidden"),f.show({message:"We're sorry, but you've reached the end of search results.",backgroundColor:"#ef4040",messageColor:"#fff",position:"bottomRight"})):i.classList.remove("hidden")}function q(){const e=u.firstElementChild.getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}function h(){return n.style.display="flex",new Promise(async(e,r)=>{try{const s=await v({q:a.query,page:a.page,perPage:a.per_page});a.total=s.data.hits,n.style.display="none",e(a.total)}catch(s){r(s),n.style.display="none"}})}
//# sourceMappingURL=index.js.map
